<link rel="stylesheet" href="{{ url_for('admin.static', filename='css/skills.css') }}">

<div class="skills-container">
  <h2 class="skills-heading">ðŸ’¡ Skills</h2>

  <!-- Add New Skill -->
  <form method="POST" action="{{ url_for('admin.dashboard', page='skills') }}" class="skills-form">
    <div class="skills-form-grid">
      <div class="form-group">
        <label class="form-label">Skill Name</label>
        <input type="text" name="name" required class="form-input" placeholder="e.g. JavaScript, Python">
      </div>

      <div class="form-group">
        <label class="form-label">Proficiency Level (%)</label>
        <input type="number" name="level" min="0" max="100" required class="form-input" placeholder="0-100">
      </div>

      <div class="form-group">
        <label class="form-label">Description</label>
        <input type="text" name="Description" class="form-input" placeholder="Write your Desc">
      </div>
      <div class="form-group">
        <label class="form-label">Icon(Font Awsome)</label>
        <input type="text" name="icon" class="form-input" placeholder="Write your Desc">
      </div>
    </div>
    <div class="form-actions">
      <button type="submit" class="submit-button">
        Add Skill
      </button>
    </div>
  </form>

  <!-- Skill Table -->
  <h3 class="preview-heading">ðŸ“‹ Existing Skills</h3>

  {% if skills %}
  <div class="table-wrapper">
    <table class="skills-table">
      <thead class="table-header">
        <tr>
          <th class="table-cell">ID</th>
          <th class="table-cell">Name</th>
          <th class="table-cell">Level</th>
          <th class="table-cell">Description</th>
          <th class="table-cell text-center">icon</th>
        </tr>
      </thead>
      <tbody>
        {% for skill in skills %}
        <tr>
          <td class="table-cell">{{ skill.id }}</td>
          <td class="table-cell">{{ skill.name }}</td>
          <td class="table-cell">
            <div class="skill-level-container">
              <div class="skill-level-bar" style="width: {{ skill.level }}%"></div>
              <span class="skill-level-text">{{ skill.level }}%</span>
            </div>
          </td>
          <td class="table-cell">{{ skill.description }}</td>
          <td class="table-cell">{{ skill.icon }}</td>
          <td class="table-cell text-center">
            <form method="POST" action="{{ url_for('admin.dashboard', page='skills') }}" class="delete-form">
              <input type="hidden" name="delete_id" value="{{ skill.id }}">
              <button type="submit" class="delete-button" onclick="return confirm('Delete this skill?')">Delete</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <p class="no-content-message">No skills added yet.</p>
  {% endif %}
</div>