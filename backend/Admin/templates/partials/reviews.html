<link rel="stylesheet" href="{{ url_for('admin.static', filename='css/review.css') }}">

<div class="reviews-container">
  <h2>🌟 Customer Reviews</h2>

  {% if reviews %}
    <div class="reviews-table-container">
      <table class="reviews-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Image</th>
            <th>Name</th>
            <th>Role</th>
            <th>Email</th>
            <th>Rating</th>
            <th>Message</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          {% for review in reviews %}
            <tr>
              <td>{{ loop.index }}</td>
              <td>
                {% if review.image_url %}
                  <img src="{{ review.image_url }}" alt="Reviewer profile image" class="reviewer-image">
                {% else %}
                  <span class="no-image">N/A</span>
                {% endif %}
              </td>
              <td>{{ review.name }}</td>
              <td>{{ review.role or '—' }}</td>
              <td>{{ review.email or '—' }}</td>
              <td class="rating-stars">
                {% for i in range(1, 6) %}
                  {% if i <= review.rating %}
                    ⭐
                  {% else %}
                    ☆
                  {% endif %}
                {% endfor %}
              </td>
              <td>{{ review.message }}</td>
              <td>{{ review.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="no-reviews-message">No reviews found.</p>
  {% endif %}
</div>
